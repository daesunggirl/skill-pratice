<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'/>
		<title>简易发布</title>
		<style>
		  *{margin:0;padding:0;}
		  body{background-color:rgba(45,0,0,0.8);}
		  #wrap{width:400px;margin:20px auto;position:relative;}
		  #txtb{width:400px;word-wrap:break-word;border:1px solid rgb(45,0,0);}
		  #btn{border:none;background-color:rgb(255,142,30);position:absolute;right:0;margin-top:5px;}
		  li{list-style:none;border-bottom:1px solid #ccc;padding:4px;margin-bottom:4px;background:#fff;filter:alpha(opacity:0);opacity:0; }
		   #display{height:400px;margin-top:30px;} 
		</style>
	</head>
	<body>
	    <div id='wrap'>
	    <textarea name="textrea" id="txtb" cols="40" rows="5"></textarea>
	    <input type="button" value='发布' id='btn'/>
	    <ul id='display'>
	    </ul>
	    </div>
	    <script src='move.js'></script>
	    <script>
	    	window.onload=function(){
	    		var ul=document.getElementById('display');
	    		var btn=document.getElementById('btn');
	    		var txtb=document.getElementById('txtb');
	    		btn.onclick=function(){
	    			var li=document.createElement('li');
	    			li.innerHTML=txtb.value;
	    			txtb.value='';
	    			if(ul.children.length>0){
	    				ul.insertBefore(li,ul.children[0]);
	    			}else{
	    				ul.appendChild(li);
	    			}
                  var curHeight=li.offsetHeight;
                  li.style.height=0;
                  move(li,{height:curHeight},function(){
                  	move(li,{opacity:100});
                  })
	    		}
	    	}
	    </script>
	</body>

</html>